import{_ as a,u as e,f as s,v as t,g as l,p as o,a as r,w as u,i as c,o as n,b as d,d as f,t as _,h as p,j as i,F as m,k as w,m as g,S as b}from"./index-DY15h3rT.js";import{_ as h}from"./share.CyOkgRc9.js";import{e as k}from"./data.BvSWbQwd.js";import{i as x}from"./user.DNgVUQ4K.js";import"./request.Bm2Z9kM_.js";const j=a({__name:"coupon",setup(a){const{t:j}=e(),S=s({page:1,data:[],source:0,allSource:0});t((()=>{l({title:j("data.coupon.nTitle")}),$(),y()}));const y=async()=>{const{data:a}=await x();o("userInfo",a),S.allSource=a.dikouquan,S.source=a.dikouquan_k},$=()=>{k({page:S.page}).then((({data:a})=>{console.log(a),S.page+=1,S.data=[...S.data,...a]}))};return(a,e)=>{const s=c,t=w,l=g,o=b;return n(),r(s,{class:"page"},{default:u((()=>[d(s,{class:"banner"},{default:u((()=>[d(s,{class:"flex-start-center-nowrap"},{default:u((()=>[d(s,{class:"left"},{default:u((()=>[d(s,{class:"before"},{default:u((()=>[f(_(a.$t("data.coupon.lBefore")),1)])),_:1}),d(s,{class:""},{default:u((()=>[f(_(S.source),1)])),_:1})])),_:1}),d(s,{class:"right"},{default:u((()=>[d(s,{class:"before"},{default:u((()=>[f(_(a.$t("data.coupon.rBefore")),1)])),_:1}),d(s,null,{default:u((()=>[f(_(S.allSource),1)])),_:1})])),_:1})])),_:1}),d(s,{class:"share-btn flex-center-center",onClick:e[0]||(e[0]=e=>a.toUrl("/pages/user/push"))},{default:u((()=>[d(t,{class:"icon",src:h}),d(l,null,{default:u((()=>[f(_(a.$t("user.push.nTitle")),1)])),_:1})])),_:1})])),_:1}),d(s,{class:"title flex-row-between-nowrap"},{default:u((()=>[d(s,{class:"tt"},{default:u((()=>[f(_(a.$t("data.source.log")),1)])),_:1}),d(s,{class:"flex-start-center-nowrap more"})])),_:1}),d(o,{class:"scroll","scroll-y":"",onScrolltolower:$},{default:u((()=>[(n(!0),p(m,null,i(S.data,(a=>(n(),r(s,{class:"item flex-row-between-nowrap",key:a.id},{default:u((()=>[d(s,null,{default:u((()=>[d(s,{class:"type"},{default:u((()=>[f(_(a.remark),1)])),_:2},1024),d(s,{class:"name"},{default:u((()=>[f(_(a.action_name),1)])),_:2},1024),d(s,{class:"date"},{default:u((()=>[f(_(a.created_at),1)])),_:2},1024)])),_:2},1024),d(s,{class:"price"},{default:u((()=>[f(_(a.amount),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})}}},[["__scopeId","data-v-fbce1f05"]]);export{j as default};
