import{_ as a,u as e,f as s,v as t,g as l,p as o,a as r,w as c,i as u,o as n,b as d,d as f,t as _,h as p,j as i,F as m,k as w,m as g,S as b}from"./index-DV5gXwyS.js";import{_ as x}from"./share.CyOkgRc9.js";import{e as h}from"./data.zmBSleV2.js";import{i as k}from"./user.DOE48SVR.js";import"./request.8kQxyx6u.js";const j=a({__name:"coupon",setup(a){const{t:j}=e(),y=s({page:1,data:[],source:0,allSource:0});t((()=>{l({title:j("data.coupon.nTitle")}),$(),S()}));const S=async()=>{const{data:a}=await k();o("userInfo",a),y.allSource=a.dikouquan,y.source=a.dikouquan_k},$=()=>{h({page:y.page}).then((({data:a})=>{console.log(a),y.page+=1,y.data=[...y.data,...a]}))};return(a,e)=>{const s=u,t=w,l=g,o=b;return n(),r(s,{class:"page"},{default:c((()=>[d(s,{class:"banner"},{default:c((()=>[d(s,{class:"flex-start-center-nowrap"},{default:c((()=>[d(s,{class:"left"},{default:c((()=>[d(s,{class:"before"},{default:c((()=>[f(_(a.$t("data.coupon.lBefore")),1)])),_:1}),d(s,{class:""},{default:c((()=>[f(_(y.source),1)])),_:1})])),_:1}),d(s,{class:"right"},{default:c((()=>[d(s,{class:"before"},{default:c((()=>[f(_(a.$t("data.coupon.rBefore")),1)])),_:1}),d(s,null,{default:c((()=>[f(_(y.allSource),1)])),_:1})])),_:1})])),_:1}),d(s,{class:"share-btn flex-center-center",onClick:e[0]||(e[0]=e=>a.toUrl("/pages/user/push"))},{default:c((()=>[d(t,{class:"icon",src:x}),d(l,null,{default:c((()=>[f(_(a.$t("user.push.nTitle")),1)])),_:1})])),_:1})])),_:1}),d(s,{class:"title flex-row-between-nowrap"},{default:c((()=>[d(s,{class:"tt"},{default:c((()=>[f(_(a.$t("data.source.log")),1)])),_:1}),d(s,{class:"flex-start-center-nowrap more"})])),_:1}),d(o,{class:"scroll","scroll-y":"",onScrolltolower:$},{default:c((()=>[(n(!0),p(m,null,i(y.data,(a=>(n(),r(s,{class:"item flex-row-between-nowrap",key:a.id},{default:c((()=>[d(s,null,{default:c((()=>[d(s,{class:"type"},{default:c((()=>[f(_(a.remark),1)])),_:2},1024),d(s,{class:"name"},{default:c((()=>[f(_(a.action_name),1)])),_:2},1024),d(s,{class:"date"},{default:c((()=>[f(_(a.created_at),1)])),_:2},1024)])),_:2},1024),d(s,{class:"price"},{default:c((()=>[f(_(a.amount),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})}}},[["__scopeId","data-v-fbce1f05"]]);export{j as default};
