import{_ as e,u as a,r as t,f as l,p as s,y as o,a as r,w as n,i as u,o as c,b as d,d as m,t as i,C as _,B as p,I as f,G as h}from"./index-DwE6jKB5.js";import{w,d as x}from"./user.BVsDc1FP.js";import"./request.iDM26VIX.js";const b=e({__name:"without",setup(e){const{t:b}=a(),v=t(),V=l({name:"",card_name:"",card_number:"",amount:"",trade_password:""}),g=t([]);s((()=>{v.value=o("userInfo").integral,C()}));const C=()=>{w().then((({data:e})=>{console.log(e),g.value=e.card_names,e.hasOwnProperty("collection_info")&&(V.card_name=e.collection_info.card_name,V.card_number=e.collection_info.card_number,V.name=e.collection_info.name)}))},j=()=>{if(V.amount>v.value)return p({title:b("user.without.numberNot")}),!1;x(V).then((({data:e})=>{p({title:b("user.without.sucess"),icon:"none"})}))},y=e=>{V.card_name=g.value[e.detail.value],V.card_number=""};return(e,a)=>{const t=u,l=f,s=h;return c(),r(t,{class:"page flex-column-start-center"},{default:n((()=>[d(t,{class:"card"},{default:n((()=>[d(t,{class:"title"},{default:n((()=>[m(i(_(b)("user.without.title")),1)])),_:1}),d(t,{class:"content flex-start-center-nowrap"},{default:n((()=>[d(t,{class:"unit"},{default:n((()=>[m("Â¥")])),_:1}),d(l,{class:"flex-1",modelValue:V.amount,"onUpdate:modelValue":a[0]||(a[0]=e=>V.amount=e),placeholder:v.value},null,8,["modelValue","placeholder"]),d(t,{class:"text",onClick:a[1]||(a[1]=e=>V.amount=v.value)},{default:n((()=>[m(i(_(b)("user.without.text")),1)])),_:1})])),_:1}),d(s,{mode:"selector",range:g.value,onChange:y},{default:n((()=>[d(t,{class:"flex-row-between-nowrap footer"},{default:n((()=>[d(t,{class:"label"},{default:n((()=>[m(i(_(b)("user.without.label")),1)])),_:1}),d(t,{class:"choose flex-start-center-nowrap"},{default:n((()=>[m(i((null==V?void 0:V.card_name)||_(b)("user.without.choose"))+" ",1),d(t,{class:"icon"})])),_:1})])),_:1})])),_:1},8,["range"])])),_:1}),d(t,{class:"line-input flex-start-center-nowrap"},{default:n((()=>[d(l,{class:"text",modelValue:V.card_number,"onUpdate:modelValue":a[2]||(a[2]=e=>V.card_number=e),placeholder:_(b)("user.without.cardName"),"placeholder-class":"text"},null,8,["modelValue","placeholder"])])),_:1}),d(t,{class:"line-input flex-start-center-nowrap"},{default:n((()=>[d(l,{class:"text",type:"password",modelValue:V.trade_password,"onUpdate:modelValue":a[3]||(a[3]=e=>V.trade_password=e),placeholder:_(b)("user.push.tradePassword"),"placeholder-class":"text"},null,8,["modelValue","placeholder"])])),_:1}),d(t,{class:"btn",onClick:j},{default:n((()=>[m(i(_(b)("user.push.confirm")),1)])),_:1})])),_:1})}}},[["__scopeId","data-v-55ef4708"]]);export{b as default};
